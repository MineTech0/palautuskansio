{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","handleSubmit","value","name","onChange","handleName","phone","handlePhone","type","Filter","handle","Persons","persons","filter","x","includes","map","person","key","number","id","onClick","Notification","notification","error","className","message","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newPhone","setNewPhone","setFilter","setNotification","useEffect","PersonService","initialPersons","e","target","preventDefault","newObj","find","window","confirm","returnedObj","concat","setTimeout","catch","console","log","parseInt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d8c2d5aa.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <>\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                name: <input value={props.name} onChange={props.handleName} />\r\n            </div>\r\n            <div>\r\n                number: <input value={props.phone} onChange={props.handlePhone} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n        </>\r\n    )\r\n}\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <>\r\n        <label>Filter persons: </label>\r\n        <input value={props.value} onChange={props.handle}/>\r\n        </>\r\n    )\r\n}\r\nexport default Filter","import React from 'react'\r\n\r\nconst Persons = ({persons, filter, handle}) => {\r\n  return (\r\n    <div>\r\n      {persons.filter(x => x.name.includes(filter)).map(person => \r\n      <p key={person.name}>{person.name} {person.number} <button value={person.id}onClick={handle}>delete</button></p>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Notification = ({ notification }) => {\r\n    if (notification === null) {\r\n      return null\r\n    }\r\n    if(notification.error){\r\n      return (\r\n        <div className=\"error\">\r\n          {notification.message}\r\n        </div>\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <div className=\"success\">\r\n          {notification.message}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  export default Notification\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst index = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\nconst remove = id => {\r\n   return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { index, create, update,remove }","import React, { useState, useEffect } from 'react'\n\nimport './index.css'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport PersonService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newPhone, setNewPhone] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    PersonService\n      .index()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n\n\n  }, [])\n\n  const handleName = (e) => {\n    setNewName(e.target.value)\n  }\n  const handlePhone = (e) => {\n    setNewPhone(e.target.value)\n  }\n  const handleFilter = (e) => {\n    setFilter(e.target.value)\n  }\n  const handleDelete = (e) => {\n    const id = parseInt(e.target.value)\n    if (window.confirm(\"Delete \" + persons.find(person => person.id === id).name + '?')) {\n      PersonService\n      .remove(id)\n      .then(response =>{\n        setNotification({\n          message: `Removed ${persons.find(person => person.id === id).name}`,\n          error: false\n        })\n        setPersons(persons.filter(person => person.id !== id))\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n      .catch(error => {\n        console.log(error)\n        setNotification({\n          message: `Person '${persons.find(person => person.id === id).name}' was already deleted from server`,\n          error: true\n        })\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n      \n    }\n  }\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    const newObj = {\n      name: newName,\n      number: newPhone\n    }\n\n    if (persons.find(person => person.name === newName)?.name === newName) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        PersonService\n          .update(persons.find(person => person.name === newName).id, newObj)\n          .then(returnedObj => {\n            setPersons(persons.filter(person => person.id !== returnedObj.id).concat(returnedObj))\n            setNewName('')\n            setNewPhone('')\n            setNotification({\n              message: `Changed ${returnedObj.name} number to ${returnedObj.number}`,\n              error: false\n            })\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          })\n          .catch(error => {\n            console.log(error)\n            setNotification({\n              message: `Person '${newObj.name}' was already deleted from server`,\n              error: true\n            })\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          })\n      }\n    }\n    else {\n      PersonService\n        .create(newObj)\n        .then(returnedObj => {\n          setPersons(persons.concat(returnedObj))\n          setNewName('')\n          setNewPhone('')\n          setNotification({\n            message: `Added ${returnedObj.name}`,\n            error: false\n          })\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(error)\n          setNotification({\n            message: `Person '${newObj.name}' was already deleted from server`,\n            error: true\n          })\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n    }\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter value={filter} handle={handleFilter} />\n      <h2>Add new</h2>\n      <PersonForm handleSubmit={handleSubmit}\n        name={newName}\n        phone={newPhone}\n        handleName={handleName}\n        handlePhone={handlePhone} />\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} handle={handleDelete} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}